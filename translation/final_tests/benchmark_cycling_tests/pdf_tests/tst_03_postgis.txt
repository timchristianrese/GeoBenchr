SELECT r.trip_id, COUNT(*) AS n
FROM ride_points r
INNER JOIN berlin_districts d ON (ST_Intersects(ST_SetSRID(ST_Point(r.x, r.y), 4326), d.geom))
WHERE (r.t BETWEEN '2022-10-04T18:00:00Z' AND '2022-10-04T23:59:59Z')
GROUP BY r.trip_id
HAVING COUNT(*) > 1;

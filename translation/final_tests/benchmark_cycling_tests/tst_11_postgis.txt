SELECT COUNT(DISTINCT r.trip_id) AS n_trips
FROM ride_points r
WHERE (ST_CoveredBy(ST_SetSRID(ST_Point(r.x, r.y), 4326), ST_GeomFromText('POLYGON((13.38 52.505, 13.42 52.505, 13.42 52.525, 13.38 52.525, 13.38 52.505))', 4326)) AND r.t BETWEEN '2022-10-01T00:00:00Z' AND '2022-10-07T23:59:59Z');
